<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Memerator</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
		
		<script type="text/javascript"> 
			
			function insertMeme(){
				var filepath = document.getElementById("url").value;

				var xhr = new XMLHttpRequest();
				xhr.open("GET", "http://localhost:3000/insertMeme?filepath=" + filepath, true);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
				xhr.send();
			}

			function getMeme() {
				var xhr = new XMLHttpRequest();
				xhr.open("GET", "http://localhost:3000/getMeme", true);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

				xhr.onreadystatechange = function() {
					if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
						document.getElementById("memer").innerHTML = "<img id='meme' src='img/" + this.responseText + "'>";
					}
				}
				xhr.send();
			}
		</script>
		<h1>Memerator</h1>

		<div id="main" class="main-text">
			<div class="main-text">
				<h2>Insert a Meme Here</h2>
				<form action="/meme" method="post" enctype="multipart/form-data">
					<input type="file" name="meme" />
					<br />
					<input type="submit" value="Upload" />
				</form>
			</div>
			
			<div class="main-text">
				<button onclick="getMeme()">Meme Time!</button>
			</div>
			<div id="memer" class="main-text">
			</div>
		</div>
		
		<footer style="margin: 10px;">Go Grizzlies!</footer>
	</body>
</html>
